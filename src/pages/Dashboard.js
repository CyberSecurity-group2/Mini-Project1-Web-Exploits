import React, { useContext, useState } from "react";
import { AuthContext } from "../context/auth";

import Row from 'react-bootstrap/Row'
import Col from 'react-bootstrap/Col'
import Jumbotron from 'react-bootstrap/Jumbotron'
import Button from 'react-bootstrap/Button'
import Form from 'react-bootstrap/Form'

function Dashboard() {

  function xssSubmit(event){
    event.preventDefault();
    var str = event.target.xss.value;
    //if(str.includes("javascript")){
    //  str = str.substring(0,3) + "NOT HERE AMIGO" + str.substring(3);
    //}         // uncomment for resolution of the vulnerability
    setXss(str);
  }

  const context = useContext(AuthContext);
  const [xss, setXss] = useState();
  return (
    <>
      <h1 style={{textAlign: 'center'}}>Dashboard</h1>
      <div style={{height: '100%'}}>
      <Row>
        <Col sm={6}>
          <Jumbotron>
            <h4>SQL Injection</h4>

          </Jumbotron>
        </Col>
        <Col sm={6}>
          <Jumbotron>
            <h4>IDOR</h4>

          </Jumbotron>
        </Col>
      </Row>
      <Row>
        <Col sm={6}>
          <Jumbotron>
            <h4>other</h4>

          </Jumbotron>
        </Col>
        <Col sm={6}>
          <Jumbotron>
          <h4>XSS</h4>
        <Form onSubmit={xssSubmit}>
          <Form.Group controlId="xss">
            <Form.Control type="text"/>
          </Form.Group>
          <Button variant="primary" type="submit">
            Submit
          </Button>
        </Form>
        <h4>Upload you link!!!</h4>
        { xss ? <a href={xss}>your link!</a> : <></> }
          </Jumbotron>
        </Col>
      </Row>
      <h3 onClick={ () => {context.logout()}}>Logout</h3>
      </div>
    </>
  );
}

export default Dashboard;
